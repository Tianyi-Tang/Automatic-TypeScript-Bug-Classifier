{
  "commit_index": "ead2872",
  "commit_url": "https://github.com/statelyai/xstate/commit/ead28725741c99c6282bd8ab1b7c12818bd66865",
  "commit": {
    "commit_message": [
      "fix",
      "persisting",
      "unresolved",
      "promise",
      "3959"
    ],
    "description": [
      "fix",
      "persisting",
      "unresolved",
      "promise",
      "changeset",
      "avoid",
      "mutation",
      "internal",
      "state",
      "actor",
      "type",
      "3970",
      "--",
      "--",
      "--",
      "--",
      "co-authored-by",
      "mateusz",
      "burzy\u0144ski",
      "mateuszburzynski",
      "gmail.com"
    ],
    "changed_files_count": 5,
    "changed_files": [
      ".changeset/large-cooks-taste.md",
      "packages/core/src/actors/callback.ts",
      "packages/core/src/actors/observable.ts",
      "packages/core/src/actors/promise.ts",
      "packages/core/test/behaviors.test.ts"
    ],
    "changed_files_content": [],
    "parent": "423c5ab72f1ad7f510f94a5b4b5f98e5e8540d0e"
  },
  "pull_requests": [
    {
      "pr_title": [
        "v5",
        "fix",
        "persisting",
        "unresolved",
        "promise",
        "3959"
      ],
      "total_discussions": 4,
      "discussions": [
        {
          "discussion_number": 1,
          "comments": [
            {
              "type": "pr_description",
              "content": [
                "description",
                "provided"
              ],
              "author": "Andarist"
            }
          ]
        },
        {
          "discussion_number": 2,
          "comments": [
            {
              "content": [
                "latest",
                "commit:1b573e3",
                "change",
                "pr",
                "included",
                "next",
                "version",
                "bump",
                "sure",
                "mean",
                "click",
                "learn",
                "changesets",
                "click",
                "'re",
                "maintainer",
                "want",
                "add",
                "another",
                "changeset",
                "pr"
              ]
            }
          ]
        },
        {
          "discussion_number": 3,
          "comments": [
            {
              "content": [
                "pull",
                "request",
                "automatically",
                "built",
                "testable",
                "incodesandbox",
                "see",
                "build",
                "info",
                "built",
                "library",
                "clickhereor",
                "icon",
                "next",
                "commit",
                "sha",
                "latest",
                "deployment",
                "branch",
                "based",
                "commit1b573e3"
              ]
            }
          ]
        },
        {
          "discussion_number": 4,
          "comments": [
            {
              "content": [
                "address",
                "1476"
              ]
            }
          ]
        }
      ]
    },
    {
      "pr_title": [
        "avoid",
        "mutation",
        "internal",
        "state",
        "actor",
        "type",
        "3970"
      ],
      "total_discussions": 3,
      "discussions": [
        {
          "discussion_number": 1,
          "comments": [
            {
              "type": "pr_description",
              "content": [
                "description",
                "provided"
              ],
              "author": "Andarist"
            }
          ]
        },
        {
          "discussion_number": 2,
          "comments": [
            {
              "content": [
                "latest",
                "commit:840ac73",
                "merging",
                "pr",
                "cause",
                "version",
                "bump",
                "package",
                "change",
                "result",
                "new",
                "version",
                "'re",
                "good",
                "go.if",
                "change",
                "result",
                "version",
                "bump",
                "need",
                "add",
                "changeset",
                "changesets",
                "added",
                "pr",
                "'ll",
                "see",
                "package",
                "pr",
                "includes",
                "changesets",
                "associated",
                "semver",
                "type",
                "click",
                "learn",
                "changesets",
                "add",
                "one",
                "click",
                "'re",
                "maintainer",
                "want",
                "add",
                "changeset",
                "pr"
              ]
            }
          ]
        },
        {
          "discussion_number": 3,
          "comments": [
            {
              "content": [
                "pull",
                "request",
                "automatically",
                "built",
                "testable",
                "incodesandbox",
                "see",
                "build",
                "info",
                "built",
                "library",
                "clickhereor",
                "icon",
                "next",
                "commit",
                "sha",
                "latest",
                "deployment",
                "branch",
                "based",
                "commit840ac73"
              ]
            }
          ]
        }
      ]
    }
  ],
  "issues": [
    {
      "title": [
        "machine",
        "ignores",
        "invocation",
        "starting",
        "arbitrary",
        "state"
      ],
      "labels": [
        "core"
      ],
      "comments": [
        {
          "author": "kristofkalocsai",
          "content": [
            "description",
            "explicitly",
            "starting",
            "machine",
            "via",
            "interpreter",
            "state",
            "defines",
            "invocation",
            "machine",
            "transition",
            "state",
            "regardless",
            "outcome",
            "-resolve",
            "reject-",
            "starting",
            "baked-in",
            "initial",
            "state",
            "interpreter",
            "machine",
            "working",
            "expected",
            "const",
            "machine",
            "machine",
            "id",
            "machine",
            "initial",
            "s1",
            "state",
            "s1",
            "invoke",
            "src",
            "return",
            "new",
            "promise",
            "resolve",
            "settimeout",
            "resolve",
            "1000",
            "ondone",
            "s2",
            "s2",
            "invoke",
            "src",
            "return",
            "new",
            "promise",
            "resolve",
            "settimeout",
            "resolve",
            "1000",
            "ondone",
            "s1",
            "const",
            "service",
            "interpret",
            "machine",
            "ontransition",
            "state",
            "console",
            "log",
            "state",
            "value",
            "service",
            "start",
            "//",
            "working",
            "expected",
            "'s1",
            "s2",
            "s1",
            "s2",
            "...",
            "//",
            "service.start",
            "s1",
            "//",
            "stay",
            "'s1",
            "expected",
            "result",
            "interpreter",
            "machine",
            "indifferent",
            "initialstate",
            "actual",
            "result",
            "however",
            "case",
            "according",
            "example",
            "hope",
            "'m",
            "messing",
            "something",
            "cause",
            "unexpected",
            "behaviour",
            "reproduction",
            "codesandbox",
            "starting",
            "without",
            "argument",
            "javascript",
            "\u2714\ufe0f",
            "codesandbox",
            "starting",
            "initalstate",
            "defined",
            "javascript",
            "additional",
            "context",
            "xstate",
            "version",
            "4.13.0"
          ]
        },
        {
          "author": "Andarist",
          "content": [
            "delicate",
            "matter",
            "starting",
            "state",
            "mainly",
            "supposed",
            "used",
            "rehydrating",
            "machine",
            "context",
            "legitimate",
            "reason",
            "service",
            "started",
            "could",
            "example",
            "reach",
            "final",
            "state",
            "supposed",
            "activated"
          ]
        },
        {
          "author": "Andarist",
          "content": [
            "intended",
            "behaviour",
            "ca",
            "n't",
            "100",
            "sure",
            "'s",
            "question",
            "davidkpiano",
            "noticed",
            "kind",
            "problem",
            "changing",
            "current",
            "behavior",
            "could",
            "cause",
            "trying",
            "start",
            "machine",
            "state",
            "able",
            "test",
            "transition",
            "separately",
            "without",
            "'play",
            "previous",
            "state",
            "condition",
            "introducing",
            "cross-dependencies",
            "would",
            "say",
            "absolutely",
            "unit",
            "test",
            "machine",
            "like",
            "decide",
            "drop",
            "xstate",
            "dependency",
            "hopefully",
            "wo",
            "n't",
            "test",
            "need",
            "refactored",
            "completely",
            "test",
            "tied",
            "underlying",
            "implementation",
            "thus",
            "n't",
            "give",
            "desired",
            "confidence",
            "ca",
            "n't",
            "really",
            "change",
            "code",
            "without",
            "changing",
            "implementation"
          ]
        },
        {
          "author": "tklepzig",
          "content": [
            "also",
            "ran",
            "seems",
            "also",
            "delayed",
            "transition",
            "2000",
            "anystate",
            "executed",
            "specifying",
            "different",
            "state",
            "start",
            "'m",
            "interested",
            "well",
            "whether",
            "design"
          ]
        },
        {
          "author": "davidkpiano",
          "content": [
            "tklepzig",
            "provide",
            "reproducible",
            "example",
            "'m",
            "interested",
            "well",
            "whether",
            "design",
            "best",
            "approach",
            "moving",
            "forward",
            "use",
            "event",
            "sourcing",
            "pattern",
            "getting",
            "machine",
            "back",
            "certain",
            "state",
            "however",
            "might",
            "legitimate",
            "bug",
            "machine.resolvestate",
            "...",
            "recognizing",
            "invocation",
            "action",
            "executed"
          ]
        },
        {
          "author": "tklepzig",
          "content": [
            "davidkpiano",
            "yep",
            "machine",
            "visualizer",
            "http",
            "//xstate.js.org/viz/",
            "gist=24af0af8024dffa5f206d135ae9e85c5",
            "visualized",
            "machine",
            "loop",
            "endlessly",
            "b",
            "c",
            "every",
            "2",
            "second",
            "initial",
            "state",
            "set",
            "code",
            "sandbox",
            "http",
            "//codesandbox.io/s/sleepy-neumann-uy4gp",
            "file=/src/index.js",
            "commented",
            "code",
            "without",
            "custom",
            "initial",
            "status",
            "work",
            "expected",
            "call",
            "start",
            "b",
            "start",
            "state",
            "b",
            "end",
            "immediately"
          ]
        },
        {
          "author": "codeincarnate",
          "content": [
            "believe",
            "'ve",
            "run",
            "issue",
            "well",
            "state",
            "broken",
            "multiple",
            "invoked",
            "sub-machines",
            "initialize",
            "state",
            "one",
            "invoked",
            "sub-machines",
            "immediately",
            "receive",
            "error",
            "event",
            "step",
            "typically",
            "going",
            "invoked",
            "machine"
          ]
        },
        {
          "author": "bobholt",
          "content": [
            "also",
            "run",
            "semantically",
            "would",
            "expect",
            "service.start",
            "somestate",
            "start",
            "machine",
            "state",
            "i.e",
            "run",
            "state",
            "'s",
            "invoke",
            "block",
            "something",
            "like",
            "service.set",
            "would",
            "imply",
            "current",
            "behavior",
            "workaround",
            "'m",
            "service.start",
            "previousstate",
            "service.send",
            "'event",
            "cause",
            "machine",
            "configured",
            "previous",
            "state",
            "transition",
            "state",
            "actually",
            "want",
            "continue",
            "running"
          ]
        },
        {
          "author": "davidkpiano",
          "content": [
            "main",
            "issue",
            "assuming",
            "previous",
            "invocation",
            "_restarted_",
            "many",
            "case",
            "happen",
            "invocation",
            "might",
            "destructive",
            "non-idempotent",
            "side-effect",
            "example",
            "j",
            "addinguser",
            "invoke",
            "src",
            "'addusertodatabase",
            "ondone",
            "'added",
            "start",
            "service",
            "service.start",
            "addinguserstate",
            "implies",
            "machine",
            "previously",
            "addinguser",
            "state",
            "'addusertodatabase",
            "invocation",
            "run",
            "twice",
            "result",
            "duplicate",
            "user",
            "--",
            "easy",
            "problem",
            "solve",
            "satisfies",
            "use-cases",
            "typically",
            "serverless",
            "workflow",
            "like",
            "azure",
            "durable",
            "function",
            "activity",
            "call",
            "marked",
            "external",
            "storage",
            "already",
            "executed",
            "entity",
            "replayed",
            "get",
            "state",
            "using",
            "event",
            "sourcing",
            "approach",
            "activity",
            "re-executed",
            "make",
            "sense",
            "serverless",
            "workflow",
            "valid",
            "use-case",
            "xstate",
            "client-side",
            "since",
            "might",
            "want",
            "re-run",
            "latest",
            "invocation/actions",
            "always",
            "sometimes",
            "differentiate",
            "assume",
            "able",
            "mark",
            "invocations/tasks",
            "retryable",
            "scxml",
            "added",
            "userland",
            "helper",
            "function",
            "xstate",
            "j",
            "//",
            "tentative",
            "api",
            "addinguser",
            "invoke",
            "withretrypolicy",
            "src",
            "'addusertodatabase",
            "ondone",
            "'added",
            "//",
            "specify",
            "retry",
            "policy",
            "default",
            "null",
            "'onrestart",
            "example",
            "'onrestart",
            "retry",
            "policy",
            "decorate",
            "invocation",
            "inspecting",
            "state",
            "determine",
            "initial",
            "restored",
            "state",
            "somehow",
            "force",
            "xstate",
            "restart",
            "invocation",
            "still",
            "thinking",
            "'s",
            "part",
            "bigger",
            "picture",
            "idea",
            "specifying",
            "retry",
            "policy",
            "actor"
          ]
        },
        {
          "author": "thomasaull",
          "content": [
            "'m",
            "going",
            "drop",
            "quickly",
            "since",
            "think",
            "similar",
            "issue",
            "n't",
            "read",
            "everything",
            "apology",
            "'s",
            "completely",
            "wrong",
            "'m",
            "starting",
            "restarting",
            "state",
            "machine",
            "following",
            "code",
            "j",
            "const",
            "statemachine",
            "machine",
            "...",
            "const",
            "initialstate",
            "statemachine.getinitialstate",
            "statestring",
            "stateservice.start",
            "initialstate",
            "way",
            "everything",
            "behaves",
            "like",
            "would",
            "navigate",
            "state",
            "event",
            "see",
            "also",
            "http",
            "//xstate.js.org/api/classes/statenode.html",
            "getinitialstate"
          ]
        },
        {
          "author": "thomasaull",
          "content": [
            "quick",
            "follow",
            "one",
            "problem",
            "encountered",
            "method",
            "state",
            "j",
            "example",
            "2000",
            "action",
            "console.log",
            "2",
            "second",
            "passed\u2026",
            "self-transition",
            "thus",
            "action",
            "would",
            "never",
            "run",
            "edit",
            "created",
            "bug",
            "issue",
            "http",
            "//github.com/statelyai/xstate/issues/3011"
          ]
        },
        {
          "author": "ErlanBazarov",
          "content": [
            "davidkpiano",
            "callback",
            "service",
            "listen",
            "parent",
            "event",
            "think",
            "always",
            "restarted",
            "given",
            "finished",
            "code",
            "besides",
            "listening",
            "part"
          ]
        },
        {
          "author": "Andarist",
          "content": [
            "'ll",
            "working",
            "improved",
            "rehydration",
            "next",
            "major",
            "version",
            "xstate",
            "already",
            "work"
          ]
        },
        {
          "author": "jurajdurajka",
          "content": [
            "collecting",
            "tip",
            "thread",
            "one",
            "currently",
            "xstate",
            "v4",
            "want",
            "rehydrate",
            "previously",
            "persisted",
            "state",
            "e.g",
            "serialized",
            "stored",
            "localstorage",
            "key",
            "state",
            "also",
            "need",
            "restart",
            "invocation",
            "upon",
            "rehydration",
            "way",
            "javascript",
            "//",
            "appmachine",
            "result",
            "createmachine",
            "import",
            "appmachine",
            "./definition",
            "//",
            "persisted",
            "state",
            "localstorage",
            "'ll",
            "use",
            "//",
            "otherwise",
            "'ll",
            "use",
            "initialstate",
            "machine",
            "const",
            "startingstatedefinition",
            "json.parse",
            "localstorage.getitem",
            "'state",
            "||",
            "appmachine.initialstate",
            "//",
            "replace",
            "default",
            "context",
            "machine",
            "one",
            "potentially",
            "persisted",
            "state",
            "const",
            "appmachinewithcontext",
            "appmachine.withcontext",
            "startingstatedefinition.context",
            "//",
            "set",
            "starting",
            "state",
            "potentially",
            "persisted",
            "state",
            "per",
            "thomasaull",
            "suggestion",
            "const",
            "startingstate",
            "appmachinewithcontext.getinitialstate",
            "startingstatedefinition.value",
            "const",
            "appservice",
            "interpret",
            "appmachinewithcontext",
            "appservice.ontransition",
            "newstate",
            "...",
            "//",
            "whatever",
            ".start",
            "startingstate",
            "correct",
            "caveat",
            "'m",
            "thinking"
          ]
        }
      ]
    }
  ],
  "security": null
}