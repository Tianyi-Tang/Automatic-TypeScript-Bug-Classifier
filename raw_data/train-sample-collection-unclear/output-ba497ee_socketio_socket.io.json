{
  "commit_index": "ba497ee",
  "commit_url": "https://github.com/socketio/socket.io/commit/ba497ee3eb52c4abf1464380d015d8c788714364",
  "commit": {
    "commit_message": [
      "fix",
      "uws",
      "prevent",
      "server",
      "crashing",
      "upgrade"
    ],
    "description": [
      "fix",
      "rare",
      "case",
      "engine.io",
      "connection",
      "upgraded",
      "websocket",
      "socket.io",
      "socket",
      "disconnected",
      "would",
      "result",
      "following",
      "exception",
      "typeerror",
      "read",
      "property",
      "undefined",
      "reading",
      "'foreach",
      "subscribe",
      "/node_modules/socket.io/dist/uws.js:87:11",
      "socket.",
      "anonymous",
      "/node_modules/socket.io/dist/uws.js:28:17",
      "socket.emit",
      "node",
      "events:402:35",
      "websocket.onpacket",
      "/node_modules/engine.io/build/socket.js:214:22",
      "websocket.emit",
      "node",
      "events:390:28",
      "websocket.onpacket",
      "/node_modules/engine.io/build/transport.js:92:14",
      "websocket.ondata",
      "/node_modules/engine.io/build/transport.js:101:14",
      "message",
      "/node_modules/engine.io/build/userver.js:56:30",
      "related",
      "4443"
    ],
    "changed_files_count": 2,
    "changed_files": [
      "lib/uws.ts",
      "test/uws.ts"
    ],
    "changed_files_content": [],
    "parent": "28038715cbe67e89431767d9b5ac1f873c633cca"
  },
  "pull_requests": null,
  "issues": [
    {
      "title": [
        "room",
        "client",
        "upgrade",
        "using",
        "uwebsockets.js"
      ],
      "labels": [
        "bug"
      ],
      "comments": [
        {
          "author": "stevestevensonneds",
          "content": [
            "describe",
            "bug",
            "'re",
            "sometimes",
            "seeing",
            "rare",
            "upgrade",
            "error",
            "using",
            "uwebsockets.js",
            "uws",
            "typeerror",
            "read",
            "property",
            "undefined",
            "reading",
            "'foreach",
            "subscribe",
            "/node_modules/socket.io/dist/uws.js:87:11",
            "socket.",
            "anonymous",
            "/node_modules/socket.io/dist/uws.js:28:17",
            "socket.emit",
            "node",
            "events:402:35",
            "websocket.onpacket",
            "/node_modules/engine.io/build/socket.js:214:22",
            "websocket.emit",
            "node",
            "events:390:28",
            "websocket.onpacket",
            "/node_modules/engine.io/build/transport.js:92:14",
            "websocket.ondata",
            "/node_modules/engine.io/build/transport.js:101:14",
            "message",
            "/node_modules/engine.io/build/userver.js:56:30",
            "stack",
            "trace",
            "mapped",
            "source",
            "http",
            "//github.com/socketio/socket.io/blob/main/lib/uws.ts",
            "l104",
            "http",
            "//github.com/socketio/socket.io/blob/main/lib/uws.ts",
            "l28",
            "http",
            "//github.com/socketio/engine.io/blob/main/lib/socket.ts",
            "l274",
            "http",
            "//github.com/socketio/engine.io/blob/main/lib/transport.ts",
            "l116",
            "http",
            "//github.com/socketio/engine.io/blob/main/lib/transport.ts",
            "l126",
            "http",
            "//github.com/socketio/engine.io/blob/main/lib/userver.ts",
            "l84",
            "seems",
            "client",
            "upgrade",
            "room",
            "expected",
            "behavior",
            "upgrade",
            "connection",
            "without",
            "causing",
            "error",
            "trying",
            "subscribe",
            "omitted",
            "room",
            "argument",
            "platform",
            "client",
            "device",
            "unknown",
            "client",
            "o",
            "unknown",
            "server",
            "x86_64",
            "arm64",
            "alpine",
            "linux",
            "socket.io",
            "version",
            "4.5.1",
            "engine.io",
            "version",
            "6.2.0",
            "uwebsockets.js",
            "version",
            "20.10.0"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "could",
            "indeed",
            "reproduce",
            "issue",
            "lot",
            "report",
            "+1",
            "fixed",
            "http",
            "//github.com/socketio/socket.io/commit/ba497ee3eb52c4abf1464380d015d8c788714364",
            "included",
            "version",
            "4.5.2",
            "http",
            "//github.com/socketio/socket.io/releases/tag/4.5.2",
            "please",
            "reopen",
            "needed"
          ]
        }
      ]
    }
  ],
  "security": null
}