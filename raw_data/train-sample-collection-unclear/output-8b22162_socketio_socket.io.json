{
  "commit_index": "8b22162",
  "commit_url": "https://github.com/socketio/socket.io/commit/8b2216290330b174c9e67be32765bec0c74769f9",
  "commit": {
    "commit_message": [
      "fix",
      "uws",
      "prevent",
      "crash",
      "using",
      "middlewares"
    ],
    "description": [
      "class",
      "used",
      "accumulate",
      "response",
      "header",
      "expose",
      "exact",
      "api",
      "wrapped",
      "type",
      "could",
      "lead",
      "following",
      "error",
      "rare",
      "case",
      "typeerror",
      "read",
      "property",
      "undefined",
      "reading",
      "'end",
      "polling.ondatarequest",
      "build/transports-uws/polling.js:109:53",
      "polling.onrequest",
      "build/transports-uws/polling.js:47:18",
      "callback",
      "build/userver.js:94:56",
      "userver.verify",
      "build/server.js:152:9",
      "related",
      "4643"
    ],
    "changed_files_count": 2,
    "changed_files": [
      "lib/userver.ts",
      "test/middlewares.js"
    ],
    "changed_files_content": [],
    "parent": "93957828be1252c83275b56f0c7c0bd145a0ceb9"
  },
  "pull_requests": null,
  "issues": [
    {
      "title": [
        "engine.io",
        "read",
        "property",
        "undefined",
        "reading",
        "'end",
        "error"
      ],
      "labels": [
        "bug"
      ],
      "comments": [
        {
          "author": "azju",
          "content": [
            "describe",
            "bug",
            "'re",
            "sometimes",
            "seeing",
            "rare",
            "error",
            "using",
            "uwebsockets.js",
            "uws",
            "reproduce",
            "happens",
            "occasionally",
            "ca",
            "n't",
            "reproduce",
            "locally",
            "socket.io",
            "server",
            "version",
            "4.6.0",
            "expected",
            "behavior",
            "see",
            "error",
            "error",
            "get",
            "handled",
            "gracefully",
            "platform",
            "client",
            "device",
            "unknown",
            "client",
            "o",
            "unknown",
            "server",
            "x86_64",
            "arm64",
            "alpine",
            "linux",
            "socket.io",
            "version",
            "4.6.0",
            "uwebsockets.js",
            "version",
            "20.19.0",
            "additional",
            "context",
            "read",
            "property",
            "undefined",
            "reading",
            "'end",
            "\\ntypeerror",
            "read",
            "property",
            "undefined",
            "reading",
            "'end",
            "\\n",
            "polling.ondatarequest",
            "/node_modules/engine.io/build/transports-uws/polling.js:104:51",
            "\\n",
            "polling.onrequest",
            "/node_modules/engine.io/build/transports-uws/polling.js:47:18",
            "\\n",
            "/node_modules/engine.io/build/userver.js:95:60\\n",
            "userver.verify",
            "/node_modules/engine.io/build/server.js:152:9",
            "\\n",
            "/node_modules/engine.io/build/userver.js:82:18\\n",
            "/node_modules/engine.io/build/userver.js:74:13\\n",
            "/node_modules/engine.io/build/server.js:187:21\\n",
            "cors",
            "/node_modules/cors/lib/index.js:188:7",
            "\\n",
            "/node_modules/cors/lib/index.js:224:17\\n",
            "origin",
            "/dist/socket.js:40:25"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "think",
            "'ve",
            "found",
            "culprit",
            "fixed",
            "http",
            "//github.com/socketio/engine.io/commit/8b2216290330b174c9e67be32765bec0c74769f9",
            "included",
            "engine.io",
            "6.4.2",
            "thus",
            "socket.io",
            "4.6.x",
            "please",
            "reopen",
            "needed"
          ]
        },
        {
          "author": "joacub",
          "content": [
            "socket.io",
            "fix",
            "also",
            "error",
            "uws"
          ]
        },
        {
          "author": "dubisoft-solutions",
          "content": [
            "facing",
            "similar",
            "issue",
            "typeerror",
            "read",
            "property",
            "'end",
            "undefined",
            "incomingmessage.ondata",
            "/usr/local/readytech/acc-server/stage/node_modules/engine.io/build/transports/polling.js:128:35",
            "incomingmessage.emit",
            "events.js:197:13",
            "addchunk",
            "_stream_readable.js:288:12",
            "readableaddchunk",
            "_stream_readable.js:265:13",
            "incomingmessage.readable.push",
            "_stream_readable.js:224:10",
            "httpparser.parseronbody",
            "_http_common.js:126:22",
            "jul",
            "20",
            "08:07:58",
            "dev-server",
            "systemd",
            "1",
            "service",
            "main",
            "process",
            "exited",
            "code=exited",
            "status=1/failure"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "future",
            "reader",
            "exception",
            "seems",
            "come",
            "line",
            "http",
            "//github.com/socketio/socket.io/blob/132d05fc0b319df7eb1b3010a91adc7d5ae58ef2/packages/engine.io/lib/transports/polling.ts",
            "l154",
            "though",
            "'m",
            "sure",
            "res.writehead",
            "413",
            ".end",
            "result",
            "typeerror",
            "read",
            "property",
            "'end",
            "undefined",
            "think",
            "initial",
            "issue",
            "fixed",
            "though",
            "please",
            "reopen",
            "needed"
          ]
        }
      ]
    }
  ],
  "security": null
}