{
  "commit_index": "d5095fe",
  "commit_url": "https://github.com/socketio/socket.io/commit/d5095fe98c3976673c19f433c0114d06dbd8de1b",
  "commit": {
    "commit_message": [
      "fix",
      "eio",
      "prevent",
      "client",
      "upgrading",
      "twice",
      "uws"
    ],
    "description": [
      "related",
      "5066"
    ],
    "changed_files_count": 2,
    "changed_files": [
      "packages/engine.io/lib/userver.ts",
      "packages/engine.io/test/server.js"
    ],
    "changed_files_content": [],
    "parent": "da613810fd97137b0fa6764aa553ce588a57d692"
  },
  "pull_requests": null,
  "issues": [
    {
      "title": [
        "error",
        "uwebsockets.js",
        "uws.httpresponse",
        "must",
        "accessed",
        "uws.httpresponse.onaborted",
        "callback"
      ],
      "labels": [
        "package:engine.io",
        "bug"
      ],
      "comments": [
        {
          "author": "eighthlucky",
          "content": [
            "describe",
            "bug",
            "running",
            "socket.io",
            "unetworking/uwebsockets.js",
            "sometimes",
            "get",
            "error",
            "error",
            "uws.httpresponse",
            "must",
            "accessed",
            "uws.httpresponse.onaborted",
            "callback",
            "successful",
            "response",
            "see",
            "documentation",
            "uws.httpresponse",
            "consult",
            "user",
            "manual",
            "happens",
            "rarely",
            "~10",
            "time",
            "last",
            "30",
            "day",
            "'ve",
            "recently",
            "come",
            "way",
            "replicate",
            "locally",
            "although",
            "'m",
            "sure",
            "'s",
            "cause",
            "production",
            "reproduce",
            "engine.io",
            "server",
            "version",
            "6.6.0",
            "engine.io",
            "client",
            "version",
            "6.5.4",
            "import",
            "server",
            "'socket.io",
            "import",
            "connect",
            "'socket.io-client",
            "import",
            "app",
            "createapp",
            "'uwebsockets.js",
            "const",
            "port",
            "3000",
            "const",
            "server_url",
            "http",
            "//localhost",
            "port",
            "//",
            "initialize",
            "socket.io",
            "server",
            "uwebsockets",
            "app",
            "const",
            "server",
            "new",
            "server",
            "serveclient",
            "false",
            "const",
            "app",
            "createapp",
            "server",
            "attachapp",
            "app",
            "//",
            "listen",
            "wait",
            "ready",
            "await",
            "new",
            "promise",
            "r",
            "app",
            "listen",
            "port",
            "r",
            "//",
            "create",
            "new",
            "socket.io",
            "client",
            "wait",
            "connect",
            "const",
            "socket",
            "connect",
            "server_url",
            "await",
            "new",
            "promise",
            "r",
            "socket",
            "'connect",
            "r",
            "//",
            "mimic",
            "new",
            "socket.io",
            "client",
            "connection",
            "already",
            "connected",
            "session",
            "id",
            "//",
            "engine.io",
            "close",
            "connection",
            "incorrectly",
            "attempt",
            "upgrade",
            "afterwards",
            "//",
            "see",
            "http",
            "//github.com/socketio/engine.io/blob/6.6.0/lib/userver.ts",
            "l213",
            "try",
            "new",
            "websocket",
            "w",
            "//localhost:3000/socket.io/",
            "eio=4",
            "transport=websocket",
            "sid=",
            "socket",
            "io",
            "engine",
            "id",
            "catch",
            "//",
            "exit",
            "error",
            "settimeout",
            "process",
            "exit",
            "0",
            "2_000",
            "note",
            "snippet",
            "require",
            "node",
            "22",
            "run",
            "expected",
            "behavior",
            "expect",
            "exit",
            "normally",
            "2",
            "timeout",
            "actual",
            "behavior",
            "crash",
            "error",
            "message",
            "mentioned",
            "platform",
            "device",
            "macbook",
            "pro",
            "2019",
            "o",
            "ventura",
            "node",
            "version",
            "20.13.1",
            "20.15.0",
            "22.3.0",
            "additional",
            "context",
            "branch",
            "replicates",
            "issue",
            "http",
            "//github.com/eighthlucky/npm-bug-replication/tree/engine.io-uws.httpresponse",
            "also",
            "patch",
            "seems",
            "fix",
            "issue",
            "end",
            "also",
            "replicate",
            "browser",
            "trying",
            "open",
            "duplicate",
            "websocket",
            "connection",
            "via",
            "console",
            "similar",
            "approach",
            "copy+paste",
            "websocket",
            "url",
            "browser",
            "'s",
            "network",
            "inspector"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "future",
            "reader",
            "fixed",
            "http",
            "//github.com/socketio/socket.io/commit/d5095fe98c3976673c19f433c0114d06dbd8de1b",
            "included",
            "engine.io",
            "6.6.1",
            "socket.io",
            "4.8.0"
          ]
        }
      ]
    }
  ],
  "security": null
}