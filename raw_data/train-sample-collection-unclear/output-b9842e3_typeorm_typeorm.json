{
  "commit_index": "b9842e3",
  "commit_url": "https://github.com/typeorm/typeorm/commit/b9842e3be918db69393325fb799b647480d56e9d",
  "commit": {
    "commit_message": [
      "fix",
      "beforequery",
      "promise",
      "awaited",
      "query",
      "execution",
      "11086"
    ],
    "description": [
      "fix",
      "beforequery",
      "promise",
      "awaited",
      "query",
      "execution",
      "close",
      "11085",
      "fix",
      "run",
      "format",
      "close",
      "11085",
      "fix",
      "apply",
      "beforequery",
      "afterquery",
      "logic",
      "driver",
      "fix",
      "use",
      "different",
      "broadcaster",
      "beforequery",
      "afterquery",
      "fix",
      "beforequery",
      "afterquery",
      "event",
      "type",
      "fix",
      "move",
      "broadcasterresult.wait",
      "finally",
      "block",
      "fix",
      "remove",
      "duplicated",
      "broadcasterresult.wait",
      "reactnativequeryrunner",
      "fix",
      "fix",
      "prettier",
      "issue",
      "fix",
      "implemented",
      "requested",
      "change",
      "fix",
      "broken",
      "sqlite",
      "test",
      "revert",
      "fix",
      "broken",
      "sqlite",
      "test",
      "reverts",
      "commit",
      "4bacd5f",
      "revert",
      "fix",
      "implemented",
      "requested",
      "change",
      "reverts",
      "commit",
      "1d2f59b",
      "review",
      "undefined",
      "type",
      "end",
      "fix",
      "move",
      "database",
      "connection",
      "logic",
      "outside",
      "promise",
      "bloc",
      "--",
      "--",
      "--",
      "--",
      "co-authored-by",
      "lucian",
      "mocanu",
      "alumnus",
      "users.noreply.github.com"
    ],
    "changed_files_count": 17,
    "changed_files": [
      "src/driver/cockroachdb/CockroachQueryRunner.ts",
      "src/driver/cordova/CordovaQueryRunner.ts",
      "src/driver/expo/ExpoQueryRunner.ts",
      "src/driver/mysql/MysqlQueryRunner.ts",
      "src/driver/nativescript/NativescriptQueryRunner.ts",
      "src/driver/oracle/OracleQueryRunner.ts",
      "src/driver/postgres/PostgresQueryRunner.ts",
      "src/driver/react-native/ReactNativeQueryRunner.ts",
      "src/driver/sap/SapQueryRunner.ts",
      "src/driver/spanner/SpannerQueryRunner.ts",
      "src/driver/sqlite/SqliteQueryRunner.ts",
      "src/driver/sqljs/SqljsQueryRunner.ts",
      "src/driver/sqlserver/SqlServerQueryRunner.ts",
      "src/subscriber/Broadcaster.ts",
      "test/github-issues/11085/entity/User.ts",
      "test/github-issues/11085/issue-11085.ts",
      "test/github-issues/11085/subscriber/UserSubscriber.ts"
    ],
    "changed_files_content": [],
    "parent": "9464e6522a49faae3d4c619742df53ca0e49ed43"
  },
  "pull_requests": [
    {
      "pr_title": [
        "fix",
        "beforequery",
        "promise",
        "awaited",
        "query",
        "execution",
        "11086"
      ],
      "total_discussions": 22,
      "discussions": [
        {
          "discussion_number": 1,
          "comments": [
            {
              "type": "pr_description",
              "content": [
                "close",
                "11085description",
                "changenow",
                "awaitingbroadcasterresult.wait",
                "query",
                "execution",
                "thatbeforequerypromises",
                "executed",
                "query",
                "executioni",
                "added",
                "new",
                "test",
                "verify",
                "thatbeforequerypromise",
                "awaited",
                "query",
                "runpull-request",
                "checklistcode",
                "up-to-date",
                "themasterbranchnpm",
                "run",
                "formatto",
                "apply",
                "prettier",
                "formattingnpm",
                "run",
                "testpasses",
                "changethis",
                "pull",
                "request",
                "link",
                "relevant",
                "issue",
                "asfixes",
                "0000there",
                "new",
                "updated",
                "unit",
                "test",
                "validating",
                "changedocumentation",
                "updated",
                "reflect",
                "change",
                "n/athe",
                "new",
                "commits",
                "follow",
                "convention",
                "explained",
                "incontributing.md"
              ],
              "author": "sgarner"
            }
          ]
        },
        {
          "discussion_number": 2,
          "comments": [
            {
              "content": [
                "tanguypolydid",
                "reach",
                "anyone",
                "reviewing",
                "merging"
              ]
            }
          ]
        },
        {
          "discussion_number": 3,
          "comments": [
            {
              "content": [
                "amiryadidno",
                "used",
                "workaround",
                "mean",
                "time",
                "extending",
                "repository",
                "method",
                "using",
                "name",
                "calling",
                "original",
                "method",
                "via",
                "entitymanager",
                "createquerybuilder"
              ]
            }
          ]
        },
        {
          "discussion_number": 4,
          "comments": [
            {
              "content": [
                "coverage",
                "76.315",
                "-0.05",
                "76.365",
                "pulling5bf7d9fon",
                "tanguypoly",
                "tanguy-poly/fix-beforequery-promises-not-awaited-before-query-executionintofe71a0con",
                "typeorm",
                "master"
              ]
            }
          ]
        },
        {
          "discussion_number": 5,
          "comments": [
            {
              "content": [
                "read",
                "linked",
                "issue",
                "original",
                "pr",
                "added",
                "event",
                "'m",
                "inclined",
                "think",
                "execution",
                "'before",
                "subscriber",
                "parallel",
                "query",
                "bug",
                "context",
                "already",
                "await",
                "'before",
                "subscriber",
                "e.g",
                "agree",
                "alumnisuggestion",
                "useawait",
                "broadcast"
              ]
            }
          ]
        },
        {
          "discussion_number": 6,
          "comments": [
            {
              "content": [
                "'s",
                "definitely",
                "bug",
                "'s",
                "breaking",
                "change",
                "pr",
                "thinking",
                "bit",
                "exception",
                "handling",
                "thebeforequerylisteners",
                "throw",
                "caseawait",
                "broadcast",
                "also",
                "throw",
                "usepromise.allinbroadcasterresult.wait",
                "query",
                "executed",
                "butfor",
                "driver",
                "e.g",
                "sap",
                "afterquerylisteners",
                "executed",
                "wondering",
                "handle",
                "behavior",
                "good",
                "enough",
                "want",
                "better",
                "exception",
                "handling",
                "n't",
                "see",
                "something",
                "critical",
                "though",
                "good",
                "enough",
                "driver",
                "behave",
                "identically",
                "though",
                "e.g.cockroachqueryrunnerandcordovaqueryrunnerhave",
                "correct",
                "exception",
                "handling",
                "this.connect",
                "andbroadcastbeforequeryeventare",
                "outside",
                "thetry-catch-finallyblock",
                "probably",
                "happen",
                "driver",
                "would",
                "approve",
                "pr",
                "least",
                "forbeforequerywe",
                "'d",
                "useawait",
                "broadcast",
                "two",
                "event",
                "n't",
                "share",
                "samebroadcastresult"
              ]
            }
          ]
        },
        {
          "discussion_number": 7,
          "comments": [
            {
              "content": [
                "'s",
                "definitely",
                "bug",
                "'s",
                "breaking",
                "change",
                "pr",
                "thinking",
                "bit",
                "exception",
                "handling",
                "meant",
                "user",
                "relying",
                "current",
                "behavior",
                "beforequery",
                "subscriber",
                "executing",
                "parallel",
                "query",
                "change",
                "happen",
                "series",
                "behavior",
                "application",
                "may",
                "also",
                "subtly",
                "changed",
                "since",
                "behavior",
                "documented",
                "may",
                "originally",
                "unintentional",
                "think",
                "say",
                "implementation",
                "detail",
                "n't",
                "relied",
                "upon",
                "therefore",
                "n't",
                "breaking",
                "change",
                "driver",
                "behave",
                "identically",
                "though",
                "e.g.cockroachqueryrunnerandcordovaqueryrunnerhave",
                "correct",
                "exception",
                "handling",
                "this.connect",
                "andbroadcastbeforequeryeventare",
                "outside",
                "thetry-catch-finallyblock",
                "probably",
                "happen",
                "driver",
                "afterquery",
                "event",
                "interface",
                "includes",
                "property",
                "error",
                "success",
                "boolean",
                "'re",
                "clearly",
                "meant",
                "triggered",
                "case",
                "failure",
                "may",
                "useful",
                "include",
                "connection",
                "error",
                "triggering",
                "afterquery",
                "error",
                "beforequery",
                "subscriber",
                "probably",
                "make",
                "less",
                "sense",
                "whichever",
                "way",
                "certainly",
                "made",
                "consistent",
                "driver",
                "shouldbroadcast",
                "'beforequery",
                "happen",
                "first",
                "outside",
                "try/catch",
                "thenconnect",
                "inside"
              ]
            }
          ]
        },
        {
          "discussion_number": 8,
          "comments": [
            {
              "content": [
                "actually",
                "...",
                "ca",
                "n't",
                "user",
                "want",
                "execute",
                "query",
                "inside",
                "beforequery",
                "subscriber",
                "provided",
                "queryrunner",
                "wo",
                "n't",
                "connected",
                "yet",
                "either"
              ]
            }
          ]
        },
        {
          "discussion_number": 9,
          "comments": [
            {
              "content": [
                "2",
                "putconnect",
                "andbroadcast",
                "'beforequery",
                "outside",
                "try/catch",
                "accept",
                "afterquery",
                "subscriber",
                "longer",
                "trigger",
                "connection",
                "error",
                "exactly",
                "suggesting",
                "cockroachdb",
                "sap",
                "check",
                "driver",
                "event",
                "triggered",
                "correctly",
                "error",
                "handled",
                "correctly"
              ]
            }
          ]
        },
        {
          "discussion_number": 10,
          "comments": [
            {
              "content": [
                "exactly",
                "suggesting",
                "cockroachdb",
                "sap",
                "check",
                "driver",
                "event",
                "triggered",
                "correctly",
                "error",
                "handled",
                "correctly",
                "ok",
                "looked",
                "found",
                "following",
                "forconnect",
                "broadcast",
                "beforequery",
                "event"
              ]
            }
          ]
        },
        {
          "discussion_number": 11,
          "comments": [
            {
              "content": [
                "alumnus",
                "sgarnerhappy",
                "see",
                "repo",
                "getting",
                "much",
                "needed",
                "love",
                "attention",
                "\ud83d\ude42i",
                "agree",
                "breaking",
                "change",
                "since",
                "current",
                "state",
                "timing",
                "still",
                "guaranteed",
                "run",
                "either",
                "query",
                "executed",
                "developer",
                "rely",
                "happening",
                "consistently.lmk",
                "'s",
                "eta",
                "issue",
                "'s",
                "anything",
                "contribute",
                "push",
                "forward",
                "since",
                "looking",
                "forward",
                "fix"
              ]
            }
          ]
        },
        {
          "discussion_number": 12,
          "comments": [
            {
              "content": [
                "amiryadid",
                "tanguypolyi",
                "would",
                "adjust",
                "logic",
                "driver",
                "everywhere",
                "sgarnermade",
                "nice",
                "overview",
                "driver",
                "marked",
                "behave",
                "similarly",
                "one",
                "marked",
                "i.e",
                "regarding",
                "eta",
                "regular",
                "release",
                "pr",
                "ready",
                "reviewed",
                "approved",
                "n't",
                "breaking",
                "change",
                "merged",
                "released",
                "next",
                "release",
                "want",
                "contribute",
                "something",
                "would",
                "say",
                "code",
                "pr"
              ]
            }
          ]
        },
        {
          "discussion_number": 13,
          "comments": [
            {
              "content": [
                "tanguypolydo",
                "think",
                "'ll",
                "time",
                "implement",
                "above-mentioned",
                "change",
                "'m",
                "personally",
                "tighter",
                "schedule",
                "atm",
                "overhead",
                "learning",
                "codebase",
                "'s",
                "problematic",
                "implement",
                "lmk",
                "'ll",
                "try",
                "squeeze",
                "perhaps",
                "btw",
                "pressure",
                "eta",
                "asked",
                "curiosity",
                "'m",
                "sure",
                "repo",
                "handful"
              ]
            }
          ]
        },
        {
          "discussion_number": 14,
          "comments": [
            {
              "content": [
                "hello",
                "everyone",
                "amiryadidyes",
                "sure",
                "look",
                "week",
                "think",
                "able",
                "dedicate",
                "time",
                "sgarner",
                "alumnifor",
                "taking",
                "time",
                "review",
                "make",
                "suggestion"
              ]
            }
          ]
        },
        {
          "discussion_number": 15,
          "comments": [
            {
              "content": [
                "change",
                "driver",
                "except",
                "thesqljsqueryrunnerdriver",
                "n't",
                "aconnectmethod",
                "unlike",
                "driver"
              ]
            }
          ]
        },
        {
          "discussion_number": 16,
          "comments": [
            {
              "content": [
                "hey",
                "y'all",
                "\ud83d\ude42noticed",
                "approved",
                "merged",
                "additional",
                "conflict",
                "tanguypolydo",
                "need",
                "assistance",
                "resolving",
                "n't",
                "want",
                "pr",
                "go",
                "stale",
                "'s",
                "borderline",
                "merged"
              ]
            }
          ]
        },
        {
          "discussion_number": 17,
          "comments": [
            {
              "content": [
                "amiryadidhello",
                "conflict",
                "resolved",
                "guess",
                "merged",
                "2",
                "reviewer",
                "approved",
                "merge",
                "requested",
                "one",
                "approval",
                "conflict",
                "hence",
                "merged"
              ]
            }
          ]
        },
        {
          "discussion_number": 18,
          "comments": [
            {
              "content": [
                "tried",
                "run",
                "sqlite",
                "test",
                "locally",
                "failed",
                "segmentation",
                "fault",
                "mentioned",
                "10212",
                "still",
                "able",
                "run",
                "see",
                "issue",
                "seems",
                "fixed",
                "edit",
                "nevermind",
                "fault",
                "fixing",
                "test"
              ]
            }
          ]
        },
        {
          "discussion_number": 19,
          "comments": [
            {
              "content": [
                "sgarner",
                "tanguypolywhat",
                "revert",
                "last",
                "commit",
                "test",
                "passing",
                "merge",
                "pr",
                "quite",
                "lot",
                "change",
                "need",
                "something",
                "else",
                "separately"
              ]
            }
          ]
        },
        {
          "discussion_number": 20,
          "comments": [
            {
              "content": [
                "sgarner",
                "tanguypolywhat",
                "revert",
                "last",
                "commit",
                "test",
                "passing",
                "merge",
                "pr",
                "quite",
                "lot",
                "change",
                "need",
                "something",
                "else",
                "separately",
                "yes",
                "look",
                "like",
                "rewriting",
                "query",
                "promise",
                "adding",
                "much",
                "extra",
                "complexity",
                "mysql",
                "broken",
                "well",
                "sqlite",
                "effort",
                "would",
                "better",
                "tackled",
                "pr",
                "'s",
                "ideal",
                "merge",
                "pr",
                "known",
                "bug",
                "either",
                "tanguypolylet",
                "'s",
                "revert",
                "promise",
                "change",
                "back",
                "still",
                "need",
                "handle",
                "connection",
                "error",
                "though",
                "adding",
                "try/catch",
                "block",
                "instead"
              ]
            }
          ]
        },
        {
          "discussion_number": 21,
          "comments": [
            {
              "content": [
                "sgarneryes",
                "revert",
                "change",
                "add",
                "try",
                "catch",
                "block",
                "instead",
                "seems",
                "good",
                "option",
                "time",
                "edit",
                "thesqlitequeryrunnerthe",
                "database",
                "connection",
                "already",
                "made",
                "outside",
                "promise",
                "maybe",
                "apply",
                "logic",
                "impacted",
                "query",
                "runner"
              ]
            }
          ]
        },
        {
          "discussion_number": 22,
          "comments": [
            {
              "content": [
                "sgarnereverything",
                "good",
                "would",
                "great",
                "th",
                "pr",
                "approved",
                "solve",
                "conflict",
                "master"
              ]
            }
          ]
        }
      ]
    }
  ],
  "issues": [
    {
      "title": [
        "jest",
        "typeorm",
        "segmentation",
        "fault"
      ],
      "labels": [
        "requires triage",
        "bug"
      ],
      "comments": [
        {
          "author": "ermartinez13",
          "content": [
            "issue",
            "description",
            "'segmentation",
            "fault",
            "error",
            "occurs",
            "trying",
            "initialize",
            "sqlite",
            "database",
            "via",
            "typeorm",
            "within",
            "jest",
            "test",
            "file",
            "expected",
            "behavior",
            "execution",
            "test",
            "script",
            "eg",
            "jest",
            "successfully",
            "executes",
            "setup",
            "teardown",
            "test",
            "case",
            "actual",
            "behavior",
            "test",
            "script",
            "execution",
            "output",
            "segmentation",
            "fault",
            "error",
            "output",
            "jest",
            "run",
            "./db.test.ts",
            "segmentation",
            "fault",
            "step",
            "reproduce",
            "please",
            "visit",
            "following",
            "sandbox",
            "reproduce",
            "error",
            "http",
            "//codesandbox.io/p/sandbox/jest-typeorm-sigsegv-xg5gx6",
            "environment",
            "note",
            "version",
            "column",
            "first",
            "value",
            "represent",
            "version",
            "original",
            "repo",
            "second",
            "value",
            "represent",
            "version",
            "codesandbox",
            "created",
            "showcase",
            "bug",
            "dependency",
            "version",
            "operating",
            "system",
            "ventura",
            "13.2.1",
            "unknown",
            "node.js",
            "version",
            "18.12.1",
            "18.16.0",
            "typescript",
            "version",
            "^5.0.2",
            "^5.1.6",
            "typeorm",
            "version",
            "^0.3.16",
            "^0.3.17",
            "additional",
            "context",
            "issue",
            "'segmentation",
            "fault",
            "error",
            "occurs",
            "trying",
            "initialize",
            "sqlite",
            "database",
            "via",
            "typeorm",
            "within",
            "jest",
            "test",
            "file",
            "especifically",
            "appears",
            "value",
            "'entities",
            "property",
            "datasource",
            "'s",
            "constructor",
            "related",
            "error",
            "array",
            "containing",
            "directory",
            "path",
            "provided",
            "value",
            "error",
            "surface",
            "otherwise",
            "array",
            "containing",
            "entity",
            "class",
            "provided",
            "test",
            "execute",
            "successfully",
            "note",
            "issue",
            "present",
            "whether",
            "storing",
            "sqlite",
            "in-memory",
            "disk",
            "file",
            "typeorm",
            "datasource",
            "option",
            "workaround",
            "pas",
            "entity",
            "class",
            "argument",
            "directory",
            "datasource",
            "'s",
            "entity",
            "option",
            "import",
            "myentity",
            "./entities/myentity.ts",
            "//",
            "...",
            "entity",
            "entities/",
            ".ts",
            "entity",
            "myentity",
            "relevant",
            "database",
            "driver",
            "aurora-mysql",
            "aurora-postgres",
            "better-sqlite3",
            "cockroachdb",
            "cordova",
            "expo",
            "mongodb",
            "mysql",
            "nativescript",
            "oracle",
            "postgres",
            "react-native",
            "sap",
            "spanner",
            "sqlite",
            "sqlite-abstract",
            "sqljs",
            "sqlserver",
            "willing",
            "resolve",
            "issue",
            "submitting",
            "pull",
            "request",
            "yes",
            "time",
            "n't",
            "know",
            "start",
            "would",
            "need",
            "guidance"
          ]
        },
        {
          "author": "Hareloo",
          "content": [
            "facing",
            "issue"
          ]
        },
        {
          "author": "mutasemhidmi",
          "content": [
            "'s",
            "solution"
          ]
        }
      ]
    },
    {
      "title": [
        "beforequery",
        "promise",
        "awaited",
        "query",
        "execution"
      ],
      "labels": [
        "bug"
      ],
      "comments": [
        {
          "author": "TanguyPoly",
          "content": [
            "issue",
            "description",
            "beforequery",
            "promise",
            "awaited",
            "query",
            "execution",
            "expected",
            "behavior",
            "using",
            "subscriber",
            "beforequery",
            "promise",
            "awaited",
            "executed",
            "actual",
            "query",
            "actual",
            "behavior",
            "beforequery",
            "afterquery",
            "promise",
            "executed",
            "query",
            "step",
            "reproduce",
            "enable",
            "request",
            "log",
            "create",
            "subscriber",
            "async",
            "beforequery",
            "run",
            "query",
            "environment",
            "dependency",
            "version",
            "operating",
            "system",
            "ubuntu",
            "24.04",
            "container",
            "node:18.20.4-alpine3.20",
            "node.js",
            "version",
            "18.20.4",
            "typescript",
            "version",
            "5.0.4",
            "typeorm",
            "version",
            "0.3.20",
            "additional",
            "context",
            "seems",
            "due",
            "fact",
            "await",
            "broadcasterresult.wait",
            "called",
            "query",
            "execution",
            "finally",
            "statement",
            "reason",
            "behind",
            "technical",
            "choice",
            "beforequery",
            "afterquery",
            "implemented",
            "issue",
            "maybe",
            "intended",
            "logging",
            "purpose",
            "context",
            "trying",
            "implement",
            "rls",
            "project",
            "would",
            "like",
            "use",
            "subscriber",
            "set",
            "current",
            "tenant_id",
            "executing",
            "query",
            "table",
            "rls",
            "enabled",
            "since",
            "beforeload",
            "event",
            "proposed",
            "issue",
            "closed",
            "wanted",
            "try",
            "use",
            "beforequery",
            "method",
            "relevant",
            "database",
            "driver",
            "aurora-mysql",
            "aurora-postgres",
            "better-sqlite3",
            "cockroachdb",
            "cordova",
            "expo",
            "mongodb",
            "mysql",
            "nativescript",
            "oracle",
            "postgres",
            "react-native",
            "sap",
            "spanner",
            "sqlite",
            "sqlite-abstract",
            "sqljs",
            "sqlserver",
            "willing",
            "resolve",
            "issue",
            "submitting",
            "pull",
            "request",
            "yes",
            "time",
            "know",
            "start"
          ]
        },
        {
          "author": "amiryadid",
          "content": [
            "also",
            "experienced",
            "recently",
            "ever",
            "work",
            "seems",
            "weird",
            "first",
            "time",
            "issue",
            "brought",
            "anyone",
            "going",
            "review",
            "move",
            "pr",
            "forward"
          ]
        },
        {
          "author": "amiryadid",
          "content": [
            "n't",
            "know",
            "since",
            "designed",
            "logging",
            "n't",
            "surprise",
            "much",
            "think",
            "pr",
            "reviewed",
            "eventually",
            "soon",
            "couple",
            "week",
            "month",
            "recently",
            "made",
            "new",
            "announcement",
            "http",
            "//typeorm.io/future-of-typeorm",
            "said",
            "discord",
            "http",
            "//discord.com/channels/1124626013360488529/1124626013905768493/1304424927339876364",
            "quote",
            "focus",
            "first",
            "couple",
            "month",
            "pretty",
            "straight",
            "forward",
            "triaging",
            "open",
            "issue",
            "pr",
            "ended",
            "extending",
            "repository",
            "method",
            "selectquerybuilder",
            "wanted",
            "calling",
            "original",
            "method",
            "work",
            "clean",
            "would",
            "like",
            "sound",
            "great",
            "update",
            "'m",
            "glad",
            "'re",
            "putting",
            "focus",
            "issue",
            "since",
            "started",
            "getting",
            "vibe",
            "lower",
            "attention",
            "project",
            "lately",
            "'s",
            "good",
            "know",
            "'re"
          ]
        }
      ]
    }
  ],
  "security": null
}