{
  "commit_index": "a65a047",
  "commit_url": "https://github.com/socketio/socket.io/commit/a65a047526401bebaa113a8c70d03f5d963eaa54",
  "commit": {
    "commit_message": [
      "fix",
      "wait",
      "packet",
      "sent",
      "closing",
      "websocket",
      "con\u2026"
    ],
    "description": [
      "reverts",
      "commit",
      "1",
      "included",
      "engine.io",
      "5.1.0",
      "socket.io",
      "4.1.0",
      "websocket",
      "connection",
      "closed",
      "packet",
      "written",
      "example",
      "calling",
      "socket.disconnect",
      "true",
      "socket.io",
      "server",
      "disconnect",
      "namespaces",
      "close",
      "connection",
      "client",
      "would",
      "receive",
      "first",
      "disconnect",
      "packet",
      "kept",
      "trying",
      "reconnect",
      "namespaces",
      "difference",
      "previous",
      "implementation",
      "pre",
      "5.1.0",
      "drain",
      "event",
      "get",
      "called",
      "end",
      "packet",
      "1",
      "socketio/engine.io",
      "ad5306a",
      "related",
      "socketio/engine.io",
      "648"
    ],
    "changed_files_count": 4,
    "changed_files": [
      "lib/socket.ts",
      "lib/transports-uws/websocket.ts",
      "lib/transports/websocket.ts",
      "test/server.js"
    ],
    "changed_files_content": [],
    "parent": "ed87609bafca0e844e6b29ea1a895d95df6a544c"
  },
  "pull_requests": null,
  "issues": [
    {
      "title": [
        "socket",
        "instance",
        "n't",
        "wait",
        "packet",
        "writebuffer",
        "sent",
        "closing",
        "websocket",
        "transport"
      ],
      "labels": [
        "bug"
      ],
      "comments": [
        {
          "author": "h-fotakiev",
          "content": [
            "describe",
            "bug",
            "socket.close",
            "called",
            "pending",
            "packet",
            "writebuffer",
            "transport",
            "close",
            "postponed",
            "drain",
            "event",
            "socket",
            "emitted",
            "socket.flush",
            "pending",
            "package",
            "writebuffer",
            "sent",
            "via",
            "transport.send",
            "wbuf",
            "immediately",
            "line",
            "drain",
            "event",
            "emitted",
            "synchronously",
            "close",
            "transport",
            "problem",
            "case",
            "websocket",
            "transport",
            "transport.send",
            "function",
            "asynchronous",
            "sends",
            "packet",
            "wait",
            "confirmation",
            "packet",
            "sent",
            "successfully",
            "sending",
            "2nd",
            "packet",
            "therefore",
            "buffer",
            "consists",
            "4",
            "packet",
            "1",
            "delivered",
            "client",
            "transport",
            "closed",
            "rest",
            "packet",
            "wo",
            "n't",
            "sent",
            "reproduce",
            "make",
            "multiple",
            "2",
            "synchronous",
            "call",
            "socket.write",
            "data",
            "call",
            "socket.close",
            "synchronously",
            "previous",
            "write",
            "call",
            "engine.io",
            "server",
            "version",
            "6.x.x",
            "server",
            "socket",
            "write",
            "2",
            "force_disconnect\\",
            "multiple_clients_connected\\",
            "//",
            "initiate",
            "buffer",
            "1",
            "packet",
            "sent",
            "successfully",
            "received",
            "client",
            "socket",
            "write",
            "1",
            "//",
            "initiate",
            "buffer",
            "3",
            "packet",
            "sent",
            "successfully",
            "received",
            "client",
            "socket",
            "write",
            "1/foo",
            "//",
            "part",
            "3",
            "packet",
            "buffer",
            "sent",
            "due",
            "transport",
            "close",
            "socket",
            "write",
            "1/bar",
            "//",
            "part",
            "3",
            "packet",
            "buffer",
            "sent",
            "due",
            "transport",
            "close",
            "socket",
            "close",
            "expected",
            "behavior",
            "socket",
            "wait",
            "message",
            "buffer",
            "sent",
            "closing",
            "transport",
            "additional",
            "context",
            "bug",
            "breaking",
            "socket.io",
            "v4",
            "library",
            "user",
            "connect",
            "multiple",
            "namespaces",
            "user",
            "'s",
            "connection",
            "closed",
            "server",
            "calling",
            "siosocket.disconnect",
            "true",
            "essentially",
            "sends",
            "disconnect",
            "packet",
            "namespaces",
            "user",
            "connected",
            "client",
            "know",
            "'s",
            "disconnected",
            "transport",
            "closed",
            "'s",
            "intentional",
            "disconnect",
            "server",
            "case",
            "client",
            "n't",
            "attempt",
            "reconnect",
            "automatically",
            "'s",
            "unexpected",
            "transport",
            "close",
            "example",
            "provided",
            "exact",
            "order",
            "call",
            "socket.io",
            "library",
            "executes",
            "disconnecting",
            "client",
            "connected",
            "namespaces",
            "foo",
            "bar",
            "4",
            "packet",
            "example",
            "sending",
            "first",
            "2",
            "message",
            "transport",
            "closed",
            "socket",
            "instance",
            "prevents",
            "2",
            "remaining",
            "message",
            "sent",
            "preventing",
            "siosocket.disconnect",
            "true",
            "function",
            "working",
            "properly",
            "ultimately",
            "causing",
            "lot",
            "clients-unintentionally-reconnecting-over-and-over-again",
            "problem",
            "socket.io",
            "library"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "able",
            "reproduce",
            "issue",
            "seems",
            "linked",
            "http",
            "//github.com/socketio/engine.io/commit/ad5306aeaedf06ac7a49f791e1b76e55c35a564e"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "fixed",
            "http",
            "//github.com/socketio/engine.io/commit/a65a047526401bebaa113a8c70d03f5d963eaa54",
            "included",
            "version",
            "6.3.0",
            "http",
            "//github.com/socketio/engine.io/releases/tag/6.3.0",
            "please",
            "reopen",
            "needed"
          ]
        }
      ]
    }
  ],
  "security": null
}