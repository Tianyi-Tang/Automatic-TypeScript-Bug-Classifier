{
  "commit_index": "ff1c861",
  "commit_url": "https://github.com/socketio/socket.io/commit/ff1c8615483bab25acc9cf04fb40339b0bd78812",
  "commit": {
    "commit_message": [
      "fix",
      "webtransport",
      "properly",
      "handle",
      "abruptly",
      "closed",
      "connection"
    ],
    "description": [
      "refreshing",
      "page",
      "client",
      "connected",
      "webtransport",
      "would",
      "trigger",
      "following",
      "exception",
      "node",
      "internal/process/promises:288",
      "triggeruncaughtexception",
      "err",
      "true",
      "frompromise",
      "unhandledpromiserejection",
      "error",
      "originated",
      "either",
      "throwing",
      "inside",
      "async",
      "function",
      "without",
      "catch",
      "block",
      "rejecting",
      "promise",
      "handled",
      ".catch",
      "promise",
      "rejected",
      "reason",
      "0",
      "code",
      "'err_unhandled_rejection",
      "related",
      "socketio/engine.io",
      "688"
    ],
    "changed_files_count": 1,
    "changed_files": [
      "lib/transports/webtransport.ts"
    ],
    "changed_files_content": [],
    "parent": "c6bf8c0f571aad7a5917f43860c8c3d74a9b429b"
  },
  "pull_requests": null,
  "issues": [
    {
      "title": [
        "upgrading",
        "polling",
        "webtransport",
        "report",
        "engine",
        "invalid",
        "webtransport",
        "handshake"
      ],
      "labels": [
        "bug"
      ],
      "comments": [
        {
          "author": "zishang520",
          "content": [
            "describe",
            "bug",
            "upgrading",
            "polling",
            "webtransport",
            "report",
            "engine",
            "invalid",
            "webtransport",
            "handshake",
            "reproduce",
            "please",
            "fill",
            "following",
            "code",
            "example",
            "engine.io",
            "server",
            "version",
            "6.5.1",
            "server",
            "import",
            "readfilesync",
            "f",
            "import",
            "createserver",
            "http",
            "import",
            "server",
            "engine.io",
            "import",
            "http3server",
            "fails-components/webtransport",
            "//",
            "warning",
            "total",
            "length",
            "validity",
            "period",
            "must",
            "exceed",
            "two",
            "week",
            "http",
            "//w3c.github.io/webtransport/",
            "custom-certificate-requirements",
            "const",
            "cert",
            "readfilesync",
            "/path/to/my/cert.pem",
            "const",
            "key",
            "readfilesync",
            "/path/to/my/key.pem",
            "const",
            "httpsserver",
            "createserver",
            "key",
            "cert",
            "httpsserver",
            "listen",
            "3000",
            "const",
            "engine",
            "new",
            "server",
            "transport",
            "polling",
            "websocket",
            "webtransport",
            "//",
            "webtransport",
            "enabled",
            "default",
            "engine",
            "attach",
            "httpsserver",
            "const",
            "h3server",
            "new",
            "http3server",
            "port",
            "3000",
            "host",
            "0.0.0.0",
            "secret",
            "changeit",
            "cert",
            "privkey",
            "key",
            "async",
            "const",
            "stream",
            "await",
            "h3server",
            "sessionstream",
            "/engine.io/",
            "const",
            "sessionreader",
            "stream",
            "getreader",
            "true",
            "const",
            "done",
            "value",
            "await",
            "sessionreader",
            "read",
            "done",
            "break",
            "engine",
            "onwebtransportsession",
            "value",
            "h3server",
            "startserver",
            "engine.io",
            "client",
            "version",
            "6.5.1",
            "client",
            "const",
            "socket",
            "require",
            "engine.io-client",
            "wss",
            "//localhost:3000",
            "transport",
            "polling",
            "webtransport",
            "function",
            "send",
            "socket",
            "send",
            "'ping",
            "socket",
            "'open",
            "send",
            "socket",
            "'close",
            "console",
            "log",
            "closed",
            "socket",
            "'message",
            "//",
            "settimeout",
            "send",
            "100",
            "expected",
            "behavior",
            "engine",
            "socket",
            "executing",
            "batch",
            "send",
            "callback",
            "+4ms",
            "engine",
            "intercepting",
            "request",
            "path",
            "/engine.io/",
            "+14ms",
            "engine",
            "handling",
            "post",
            "http",
            "request",
            "/engine.io/",
            "eio=4",
            "transport=polling",
            "t=obthcpl",
            "sid=tee1atfib5e8y_t8aaaa",
            "+0ms",
            "engine",
            "applying",
            "middleware",
            "n\u00b01",
            "+0ms",
            "engine",
            "setting",
            "new",
            "request",
            "existing",
            "client",
            "+1ms",
            "engine",
            "polling",
            "received",
            "4ping",
            "+14ms",
            "engine",
            "socket",
            "received",
            "packet",
            "message",
            "+11ms",
            "4",
            "engine",
            "socket",
            "sending",
            "packet",
            "message",
            "pong",
            "+1ms",
            "engine",
            "intercepting",
            "request",
            "path",
            "/engine.io/",
            "+7ms",
            "engine",
            "handling",
            "get",
            "http",
            "request",
            "/engine.io/",
            "eio=4",
            "transport=polling",
            "t=obthcpm",
            "sid=tee1atfib5e8y_t8aaaa",
            "+0ms",
            "engine",
            "applying",
            "middleware",
            "n\u00b01",
            "+0ms",
            "engine",
            "setting",
            "new",
            "request",
            "existing",
            "client",
            "+1ms",
            "engine",
            "polling",
            "setting",
            "request",
            "+7ms",
            "engine",
            "socket",
            "flushing",
            "buffer",
            "transport",
            "+6ms",
            "engine",
            "polling",
            "writing",
            "4pong",
            "+0ms",
            "engine",
            "socket",
            "executing",
            "batch",
            "send",
            "callback",
            "+0ms",
            "handshake",
            "data",
            "0",
            "sid",
            "tee1atfib5e8y_t8aaaa",
            "2probe",
            "engine",
            "invalid",
            "webtransport",
            "handshake",
            "+7ms",
            "engine",
            "intercepting",
            "request",
            "path",
            "/engine.io/",
            "+31ms",
            "engine",
            "handling",
            "get",
            "http",
            "request",
            "/engine.io/",
            "eio=4",
            "transport=polling",
            "t=obthcq1",
            "sid=tee1atfib5e8y_t8aaaa",
            "+0ms",
            "engine",
            "applying",
            "middleware",
            "n\u00b01",
            "+0ms",
            "engine",
            "setting",
            "new",
            "request",
            "existing",
            "client",
            "+1ms",
            "engine",
            "polling",
            "setting",
            "request",
            "+39ms",
            "console.log",
            "handshake",
            "const",
            "sid",
            "parsesessionid",
            "handshake",
            "sid",
            "debug",
            "invalid",
            "webtransport",
            "handshake",
            "return",
            "session.close",
            "platform",
            "device",
            "e.g",
            "samsung",
            "s8",
            "o",
            "e.g",
            "android",
            "9.2",
            "additional",
            "context",
            "upgrading",
            "polling",
            "webtransport",
            "report",
            "engine",
            "invalid",
            "webtransport",
            "handshake",
            "original",
            "message",
            "reported",
            "0",
            "sid",
            "xxx",
            "2probe",
            "parsesessionid",
            "correctly",
            "parse",
            "sid"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "'s",
            "weird",
            "seems",
            "two",
            "message",
            "concatenated",
            "0",
            "sid",
            "tee1atfib5e8y_t8aaaa",
            "2probe",
            "version",
            "firefox",
            "using",
            "o"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "zishang520",
            "fixed",
            "http",
            "//github.com/socketio/engine.io/commit/a306db09e8ddb367c7d62f45fec920f979580b7c",
            "included",
            "version",
            "6.5.2",
            "could",
            "please",
            "check"
          ]
        },
        {
          "author": "darrachequesne",
          "content": [
            "zishang520",
            "finally",
            "fixed",
            "http",
            "//github.com/socketio/engine.io/commit/ff1c8615483bab25acc9cf04fb40339b0bd78812",
            "included",
            "version",
            "6.5.3",
            "could",
            "please",
            "confirm"
          ]
        }
      ]
    }
  ],
  "security": null
}